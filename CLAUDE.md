# CLAUDE.md - 汎用テンプレート

> **注意**: このファイルはClaude Code起動時に自動読み込みされます。簡潔で要点を絞った内容にしてください。

## プロジェクト概要
**プロジェクト名**: [プロジェクト名]  
**説明**: [1-2文の簡潔な説明]  
**技術スタック**: [主要言語、フレームワーク、ツール]  
**Node.jsバージョン**: [該当する場合]

---

## 必須コマンド
```bash
# 開発
npm run dev         # 開発サーバー起動
npm run build       # 本番ビルド
npm run test        # テスト実行
npm run lint        # リンター実行
npm run type-check  # TypeScript型チェック

# Gitワークフロー
git checkout -b feature/[名前]  # フィーチャーブランチ作成
git add . && git commit -m ""   # 変更をコミット
```

---

## コーディング規約

### 言語固有のルール
**TypeScript/JavaScript**:
- ES modules使用（`import`/`export`）、CommonJS禁止
- 分割代入でインポート: `import { foo } from 'bar'`
- オブジェクトは`type`より`interface`を優先
- `null`の代わりに`undefined`を使用
- 複雑なオブジェクトは明示的な型付け必須

**CSS/スタイリング**:
- [CSS手法: BEM/Atomic/など]
- [優先単位: rem/px/vh]
- [カラーシステムのアプローチ]

### ファイル構成
- `src/` - ソースコード
- `components/` - 再利用可能コンポーネント
- `utils/` - ユーティリティ関数
- `types/` - TypeScript型定義
- `assets/` - 静的アセット

### 命名規則
- **ファイル**: kebab-case （`user-profile.ts`）
- **関数**: camelCase （`getUserData`）
- **クラス**: PascalCase （`UserProfile`）
- **定数**: UPPER_SNAKE_CASE （`API_BASE_URL`）
- **CSSクラス**: [プロジェクトの規則]

---

## ワークフロールール

### コーディング前
1. 既存のコードパターンを最初に確認
2. このCLAUDE.mdで規約を参照
3. TypeScriptプロジェクトなら型チェック実行

### コミット前
1. リンターを実行してすべての問題を修正
2. テストを実行して成功を確認
3. プロジェクトをビルドしてエラーなしを確認
4. 説明的なコミットメッセージを記述

### エラーハンドリング
- 非同期処理は必ずtry/catchで処理
- 意味のあるエラーメッセージを提供
- 適切にエラーをログ出力
- [プロジェクト固有のエラーハンドリングパターン]

---

## アーキテクチャパターン

### コンポーネント構造（該当する場合）
```
ComponentName/
├── index.ts          # エクスポート
├── ComponentName.tsx # メインコンポーネント
├── styles.css        # スタイル
└── types.ts          # コンポーネント型
```

### API連携
- HTTPリクエストは[fetch/axios/など]を使用
- 適切なエラーハンドリングを実装
- [認証アプローチ]
- [データ検証戦略]

---

## テストガイドライン
- **単体テスト**: 個別の関数/コンポーネントをテスト
- **統合テスト**: 機能のワークフローをテスト
- **カバレッジ目標**: [該当する場合はパーセンテージ]
- **テストファイルパターン**: `*.test.ts` または `*.spec.ts`

### テスト規約
- 説明的なテスト名を使用
- AAAパターンに従う（Arrange, Act, Assert）
- 外部依存関係をモック
- [テストフレームワーク固有のガイドライン]

---

## パフォーマンスガイドライン
- [バンドルサイズの考慮事項]
- [画像最適化ルール]
- [遅延読み込み戦略]
- [キャッシュアプローチ]

---

## よくある問題と解決法

### TypeScriptエラー
- **型定義不足**: 適切な型定義を追加
- **インポートエラー**: ファイルパスとエクスポートを確認
- **Strictモード**: すべての変数に型付けが必要

### ビルド問題
- **Nodeバージョン**: 正しいNode.jsバージョンを確認
- **依存関係**: パッケージ不足なら`npm install`実行
- **環境**: 必要な環境変数を確認

### リンティング失敗
- 自動修正は`npm run lint:fix`を実行
- [覚えておくべき特定のリンティングルール]

---

## 環境セットアップ
**必要ツール**:
- Node.js v[バージョン]+
- [パッケージマネージャー: npm/yarn/pnpm]
- [追加ツール]

**環境変数**:
```bash
# 開発環境
NODE_ENV=development
[その他必要な変数]=値
```

**IDE拡張機能**（該当する場合）:
- [言語固有の拡張機能]
- [リンター拡張機能]
- [フォーマッター拡張機能]

---

## Gitワークフロー
**ブランチ命名**:
- `feature/説明` - 新機能
- `fix/説明` - バグ修正
- `refactor/説明` - コードリファクタリング
- `docs/説明` - ドキュメント更新

**コミットメッセージ**:
- `feat: 新機能を追加`
- `fix: コンポーネントのバグを修正`
- `refactor: 関数ロジックを簡素化`
- `docs: READMEを更新`

**レビュープロセス**:
1. フィーチャーブランチを作成
2. このガイドに従って変更
3. すべてのチェック（lint、test、build）を実行
4. 説明的なタイトルでPRを作成
5. [追加のレビュー要件]

---

## デプロイ
**ビルドプロセス**:
1. `npm run build`
2. [追加のビルドステップ]
3. [デプロイコマンド/プロセス]

**本番チェック**:
- [ ] すべてのテストが合格
- [ ] リンティングエラーなし
- [ ] ビルドが正常完了
- [ ] [環境固有のチェック]

---

## チームコミュニケーション
**困ったとき**:
- まずこのCLAUDE.mdを確認
- 既存のissue/ドキュメントを検索
- [チームコミュニケーションチャンネル]
- [エスカレーションプロセス]

**コードレビューの焦点**:
- 規約準拠（このファイルを参照）
- パフォーマンスへの影響
- セキュリティ考慮事項
- 保守性

---

## クイックリファレンス

### よく使うコマンド
```bash
npm run dev     # 開発開始
npm run lint    # コードスタイルチェック
npm run test    # テスト実行
npm run build   # 本番ビルド
```

### よく使うパターン
```typescript
// [プロジェクトでよく使う2-3のコードパターンを含める]
// 例: コンポーネントのpropsインターフェース
interface ComponentProps {
  title: string;
  isVisible?: boolean;
}
```

---

## 重要事項
- TypeScript変更時は**必ず**型チェックしてからコミット
- リンティングエラーありでは**絶対に**コミットしない
- 機能変更時はテストの更新を**忘れずに**
- 新しい依存関係導入前は**相談**
- [プロジェクト固有のリマインダー]

---

*最終更新*: [日付]  
*チームメンバー*: [該当する場合]  
*関連ドキュメント*: [他の重要ドキュメントへのリンク]
